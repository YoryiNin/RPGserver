# Imagen base de Ubuntu con soporte para x86_64
FROM ubuntu:20.04

# Instalamos dependencias necesarias
RUN apt-get update && \
    apt-get install -y libglib2.0-0 libnss3 libgconf-2-4 libxi6 libxcursor1 libxrandr2 libxss1 libxtst6 && \
    apt-get clean

# Copiamos los archivos del servidor al contenedor
COPY . /app
WORKDIR /app

# Damos permisos de ejecución
RUN chmod +x juego.x86_64

# Exponemos el puerto (ajústalo al puerto que usas en Mirror)
EXPOSE 7777

# Comando para ejecutar el servidor en modo headless
CMD ["./juego.x86_64", "-batchmode", "-nographics", "-logfile", "/dev/stdout"]

