FROM ubuntu:20.04

# Instalar dependencias necesarias
RUN apt-get update && apt-get install -y \
    libglib2.0-0 \
    libsm6 \
    libxext6 \
    libxrandr2 \
    libxi6 \
    libxcursor1 \
    libxinerama1 \
    ca-certificates \
    && rm -rf /var/lib/apt/lists/*

# Copiar los archivos del build al contenedor
WORKDIR /app
COPY . /app

# Dar permisos de ejecuci√≥n
RUN chmod +x juego.x86_64

# Exponer el puerto de Mirror (por defecto 7777)
EXPOSE 7777

# Comando para ejecutar el servidor headless
CMD ["./juego.x86_64", "-batchmode", "-nographics", "-logfile", "/dev/stdout"]
